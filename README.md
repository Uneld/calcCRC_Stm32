# CRC Calculation for STM32 and Python

## –û–ø–∏—Å–∞–Ω–∏–µ

–í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞—Å—á—ë—Ç–∞ CRC32 –¥–ª—è –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ STM32F103 –∏ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:

- **CRC_UNIT (C++/STM32)**  
  –®–∞–±–ª–æ–Ω–Ω—ã–π –∫–ª–∞—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π –±–ª–æ–∫ CRC –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ STM32.  
  –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.

- **calc_crc_stm32.py (Python)**  
  –ß–∏—Å—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è CRC32, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä—è—é—â–∞—è –∞–ª–≥–æ—Ä–∏—Ç–º STM32.  
  –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ –ü–ö –∏–ª–∏ –≤ –ª—é–±—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –≥–¥–µ –¥–æ—Å—Ç—É–ø–µ–Ω Python.

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø–æ–ª–∏–Ω–æ–º–æ–º `0x04C11DB7` (IEEE 802.3).
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤ –±–∞–π—Ç (`uint8_t*`) –∏ —Å–ª–æ–≤ (`uint32_t*`).
- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–æ `uint8_t`, –∫–∞–∫ –≤ STM32 (–º–ª–∞–¥—à–∏–π –±–∞–π—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞ CRC).
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ—à–∏–≤–∫–æ–π –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
CRC_Project/
‚îú‚îÄ‚îÄ 
‚îú‚îÄ‚îÄ calc_crc_stm32.py   # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CRC –¥–ª—è Python
‚îú‚îÄ‚îÄ test_crc_stm32.py   # Unit-—Ç–µ—Å—Ç—ã –¥–ª—è Python
‚îú‚îÄ‚îÄ test_crc.cpp        # Unit-—Ç–µ—Å—Ç—ã –¥–ª—è STM32
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ LICENSE             # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### STM32 (C++)
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å CRC –º–æ–¥—É–ª—å:
```cpp
#include "CRC_UNIT.h"

CRC_UNIT<uint8_t>::CRC_Init();
```
–∏–ª–∏ HAL –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
```cpp
hcrc.Instance = CRC;
  if (HAL_CRC_Init(&hcrc) != HAL_OK)
  {
    Error_Handler();
  }
```
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞—á–µ—Ç–∞:
```cpp
uint8_t data[10] = {0,1,2,3,4,5,6,7,8,9};
uint8_t crc = CRC_UNIT<uint8_t>::calculateCRC(data, 10);
// crc == 0xD1
```

### Python (Desktop)

```python
from calc_crc_stm32 import calc_crc_stm32

data = bytes(range(10))
crc = calc_crc_stm32(data)
print(f"CRC uint8_t: 0x{crc:02X}")  # 0xD1
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Python
–ó–∞–ø—É—Å—Ç–∏—Ç–µ unit‚Äë—Ç–µ—Å—Ç—ã:
```bash
python3 -m unittest test_crc_stm32.py
```

### STM32
–î–æ–±–∞–≤—å—Ç–µ `test_crc.cpp` –≤ –ø—Ä–æ–µ–∫—Ç CubeIDE –∏ —Å–æ–±–µ—Ä–∏—Ç–µ.  
–í—ã–≤–æ–¥ CRC —Å—Ä–∞–≤–Ω–∏—Ç–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ Python‚Äë–≤–µ—Ä—Å–∏–∏.

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–ª—è STM32 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π –±–ª–æ–∫ CRC, –ø–æ—ç—Ç–æ–º—É —Ä–∞—Å—á—ë—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π.  
- –î–ª—è Python ‚Äî —á–∏—Å—Ç–∞—è —ç–º—É–ª—è—Ü–∏—è, –ø–æ–ª–µ–∑–Ω–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏.  
- –û–±–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.


